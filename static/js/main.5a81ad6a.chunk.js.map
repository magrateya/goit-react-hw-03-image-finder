{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","services/img-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","searchQuery","currentPage","url","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","id","webformatURL","largeImageURL","onImgClick","src","alt","ImageGalleryItemImage","onClick","ImageGallery","map","hit","tags","Button","LoaderRings","loader","color","height","width","timeout","React","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","ImagesView","isLoading","error","onChangeQuery","fetchImages","options","imgApi","prevState","catch","finally","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","openModal","closeModal","prevProps","length","shouldRenderLoadMoreButton","message","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5a81ad6a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9JXVV\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3zdSj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1BatF\",\"Modal\":\"Modal_Modal__1Nk5z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3MIpe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__a0743\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1xkFd\"};","import axios from 'axios';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '18994558-99c21eb2af8503bc6443a1f41';\n  const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=12&key=${API_KEY}`;\n\n  return axios.get(url).then(response => response.data.hits);\n};\n\nexport default { fetchImages };\n","import React, { Component } from 'react';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={this.state.query}\n            onChange={this.handleChange}\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  type,\n  largeImageURL,\n  onImgClick,\n}) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={type}\n        className={s.ImageGalleryItemImage}\n        onClick={() => onImgClick(largeImageURL)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  // id: PropTypes.number,\n  webformatURL: PropTypes.string,\n  type: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  onImgClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ hits, onImgClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {hits.map(hit => (\n        <ImageGalleryItem\n          key={hit.id}\n          webformatURL={hit.webformatURL}\n          type={hit.tags}\n          largeImageURL={hit.largeImageURL}\n          onImgClick={onImgClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ),\n  onImgClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React from 'react';\n\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default class LoaderRings extends React.Component {\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Rings\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={2000} //3 secs\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport imgApi from './services/img-api';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport LoaderRings from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\n// axios.defaults.headers.common['Authorization'] =\n//   'Bearer 18994558-99c21eb2af8503bc6443a1f41';\n\nexport default class ImagesView extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    largeImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n    if (prevState.hits.length !== this.state.hits.length) {\n      this.scrollDown();\n    }\n  }\n\n  onChangeQuery = query => {\n    // console.log(query);\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      currentPage,\n      searchQuery,\n    };\n\n    this.setState({ isLoading: true });\n\n    imgApi\n      .fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: currentPage + 1,\n        }));\n      })\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  openModal = url => {\n    this.setState({ largeImageURL: url });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImageURL: '' });\n  };\n\n  render() {\n    const { hits, isLoading, error, largeImageURL } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n    return (\n      <>\n        {largeImageURL && (\n          <Modal onClose={this.closeModal}>\n            <img src={largeImageURL} alt={largeImageURL} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h1>Упс, виникла помилка - {error.message}</h1>}\n\n        {hits.length > 0 && (\n          <ImageGallery hits={hits} onImgClick={this.openModal} />\n        )}\n        {isLoading && <LoaderRings />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n      </>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2ySnK\",\"SearchForm\":\"Searchbar_SearchForm__nD2kx\",\"SearchFormButton\":\"Searchbar_SearchFormButton__14KNL\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1nTwF\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ImLo\"};"],"sourceRoot":""}